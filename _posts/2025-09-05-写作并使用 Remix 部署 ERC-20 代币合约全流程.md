---
layout:     post
title:      写作并使用 Remix 部署 ERC-20 代币合约全流程
date:       2025-09-05
header-img: img/post-bg-desk.jpg
catalog: true
---

在 **WEMIX3.0** 测试网中，通过 **Remix IDE** 即可在浏览器内一键完成 **ERC-20** 代币合约的编写、编译与部署。本文将手把手展示 **五个简单步骤**，并补充典型踩坑场景与 Gas 优化技巧，帮助你从 0 到 1 上手智能合约开发。

---

## 1. 打开 Remix 并新建文件

1. 访问 [Remix IDE](https://remix.ethereum.org)。
2. 清空默认文件夹中的 `Storage.sol`、`Owner.sol`、`Ballot.sol`，点击「**+ Create New File**」。
3. 将新文件命名为 `WEMIX_ERC20.sol`（或直接自定义名称）。

**关键词提醒**：Remix、ERC-20、合约文件、WEMIX3.0 测试网。

---

## 2. 编写标准 ERC-20 合约

把以下代码完整复制进 `WEMIX_ERC20.sol`，即可得到一个总量 **99999999**、支持小数 **18 位** 的标准代币：

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import "@openzeppelin/contracts/token/ERC20/ERC20.sol";

contract MyToken is ERC20 {
    constructor(string memory name, string memory symbol) ERC20(name, symbol) {
        // 发行总量 = 实际数量 * 10**decimals()
        _mint(msg.sender, 99999999 * 10**uint(decimals()));
    }
}
```

> 注意：OpenZeppelin 已为我们封装好安全实现，**不需要重载 gas 消耗较大的 transferFrom** 等底层函数。

---

## 3. 切换到 SOLIDITY COMPILER 并编译

1. 点击左侧 Solidity 图标。
2. 在 **Compiler** 下拉框中选择 **0.8.19**（必须 ≥ ^0.8.19）。
3. 击顶栏蓝色按钮 **Compile WEMIX_ERC20.sol**。
4. 无报错即编译成功，将看到绿色勾号 ✅。

---

## 4. 设置 Deploy & Run Transactions

1. 点击左侧 **Deploy & Run** 图标 🚀。
2. **Environment** 选择「**Injected Provider - MetaMask**」。
3. 确认 MetaMask 网络切换至 **WEMIX Testnet**，官方 RPC：
   - Network Name：WEMIX Testnet
   - RPC URL：https://api.test.wemix.com
   - ChainID：1112
   - 符号：tWEMIX
4. 在 **Deploy** 输入框内填入：
   - `string name`：WTOKEN
   - `string symbol`：WT
5. 点击 **Deploy** 按钮，调起 MetaMask 弹窗。

---

## 5. 在 MetaMask 手动调节 Gas 并签名

第一次弹出的 **Gas Fee** 是以太坊标准值，需按 **WEMIX EIP-1559** 策略调整：

| 参数                 | 建议数值 |
|----------------------|----------|
| Max Base Fee (GWEI)  | 101      |
| Max Priority Fee (GWEI) | 100   |

1. 点击「**Site suggested**」→「**Advanced**」→ 调整数值 →「**Save**」。
2. 确认无误后点击「**Confirm**」。
3. 看到 Remix 底部出现 **绿色箭头与合约地址**，说明已在区块高度上链。

恭喜！至此，你的 **ERC-20** 代币已在 **WEMIX3.0 测试网成功激活**。

---

## 实战延伸：一键生成跨链地址

👉 [立即测试无滑点跨链转账体验](https://okxdog.com/)

---

## FAQ：部署过程中最常见的问题

**Q1：为何编译时报错找不到 `ERC20.sol`？**  
A：请确认网络正常，Remix 会自动拉取 GitHub 上的 OpenZeppelin 依赖；或者手动将 `import` 改为相对路径 `@openzeppelin/contracts/token/ERC20/ERC20.sol`。

**Q2：MetaMask 提示 “无效 Chain ID”？**  
A：进入「设置→网络→WEMIX Testnet」，**ChainID 必须为 1112**，且符号用 **tWEMIX**。

**Q3：全额不显示小数，变成整数千位？**  
A：合约默认 **decimals = 18**，在前端或区块浏览器查看时需注意 10^18 精度；亦可重载 `decimals()` 函数自定义精度，但会改变代币经济学。

**Q4：部署失败说明？**  
A：最常见原因包括 **账户未申领测试币** 或 **Gas Cap** 过低。点击测试网水龙头领取 1 tWEMIX，再上调 Gas。

**Q5：已生成合约地址，如何查询？**  
A：拷贝地址后，在 WEMIX 官方浏览器 **testnet.wemixscan.io** 粘贴即可查看交易、持有人、转账记录。

---

## 优化小技巧

- **节省 Gas**：减少 `require` 逻辑、复用 OpenZeppelin 的 SafeERC20。
- **权限安全**：给 owner 赋予 `Ownable` 函数，随时暂停合约功能。
- **持续集成**：借助 Hardhat 单元测试与 GitHub Actions，把 Remix Solidity 编译缓存迁移到本地 CI/CD 环境进行多节点验证。

👉 [五分钟完成企业级智能合约测试网流水线](https://okxdog.com/)

---

通过以上步骤，你已掌握在 **WEMIX3.0 测试网** 使用 **Remix** 快速部署 **ERC-20** 智能合约的方法。将同样的流程复制到主网、BSC、Polygon，甚至 Shibarium，逻辑一成不变。现在就动手试试吧！